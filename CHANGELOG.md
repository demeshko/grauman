# Change Log
All notable changes to this project will be documented in this file.

## [0.2.5] - Open Source Release
- [NON-BREAKING CHANGE] - 360 viewer removed orientation controls for mobile devices and now use a touch interface similar to the desktop mouse interface
- [ENHANCEMENT] - Polished up some of the MediaPlayer's mobile controls. touch-and-drag is now supported on the timeline Scrubber and the volume slider.
- Added 'dev' and 'prod' environment targets for webpack build. use `npm run build-dev` and `npm run build-prod` for specific builds. `npm run build` defaults to `npm run build-prod`.
- [BUGFIX] - Fix poster image positioning in Safari for MediaPlayer.
- [BUGFIX] - MediaPlayer and ImageViewer fullscreen UI buttons are hidden if the environment does not support programatic toggling of fullscreen (iOS)
- [BUGFIX] - MediaPlayer will no longer render the Volume slider if the environment does not support programatically changing the volume of a MediaElement (iOS)
- [BUGFIX] - Fix a bug where MediaPlayer would try to autoplay on mobile devices, causeing a benign error to be thrown
- [BUGFIX] - Fix a bug in iOS where MediaPlayer would not start playing because the `canplaythrough` is never triggered on iOS
- [ENHANCEMENT] - MediaPlayer instances now have a `duration` property, that will either return the current MediaFile's duration, or the duration determined by the underlying MediaElement if the MediaFile does not know it's own duration
- [ENHANCEMENT] - ImageViewer and DocumentViewer now have `on` and `off` methods just like MediaPlayer. This is a preemptive measure, so ImageViewer and DocumentViewer do not currently emit any events.
- [BUGFIX] - Fix initialization bugs that prevented 360 from working in IE Edge
- [BUGFIX] - Fix MediaPlayer controls not rendering correctly in IE 11

## [0.2.4]
- [BUGFIX] - Suppress a bug where MediaPlayer would still keep the audio of a destroyed instance.

## [0.2.3]
- [ENHANCEMENT] - All HLS.js events can now be observed through the `MediaPlayer.on` interface. The [event names](https://github.com/video-dev/hls.js/blob/master/src/events.js) are the same as they are in HLS.js. For the complete list of events that are observable, see the `MediaPlayer.EVENTS` enum.
- [ENHANCEMENT] - Added ImageViewer fullscreen button
- [ENHANCEMENT] - Added scrubbing interface over Audio viewer's waveform image
- [ENHANCEMENT] - Added `waveform` property to MediaFile objects, which stores the url to the MediaFile's waveform image that was generated by [waveform](https://github.com/rzurad/waveform)
- [BUGFIX] - #29: MediaPlayer now makes use of a MediaFile's `poster` image. Poster image will show if autoplay is off or if the user is on a mobile device.
- [BUGFIX] - #28: Fix MediaPlayer losing focus, and thus losing keyboard shortcuts until it's regained, whenever a drag handler is released while the mouse is not over a Grauman container.
- [BUGFIX] - Fix `height` and `width` properties on MediaPlayer instances always returning 0
- [BUGFIX] - Fix Volume slider positioning in Safari
- [BUGFIX] - ImageViewer has been styled. It should now be more intuitive to use.
- [BUGFIX] - ImageViewer controls will not autohide when the mouse is hovering over them.
- [BUGFIX] - Other small tweaks/bugfixes
- [MAINTENANCE] - Upgrade HLS.js to 0.7.7

## [0.2.2]
- [ENHANCEMENT] - Added `upscale` property to `MediaPlayer` that controls how the MediaPlayer will resize itself based on the size of its container and the display dimensions of the MediaFile. Property accepts values from the `UPSCALE_MODE` enum. See the `UPSCALE_MODE` documentation for more information on what options can be set and what they mean. By default, MediaPlayer will only upscale when it is in fullscreen mode.
- [ENHANCEMENT] - Added `UPSCALE_MODE` enum to `Grauman` namespace, which can be used to set the `upscale` property on MediaPlayer instances.
- [ENHANCEMENT] - Added optional `title` property to `MediaFile` objects
- [ROLLBACK] - MediaFile.duration is no longer a required property.
- [BUGFIX] - Grauman is no longer coupled with an external dependency of Font Awesome. Grauman now embeds it's own icon font.
- [BUGFIX] - Fixed intermittent autoplay issue in Chrome where the VideoElement wouldn't not autoplay and leave the MediaPlayer in a broken state
- [BUGFIX] - Fixed CSS styles that would break if Bootstrap was missing. Grauman should now be completely decoupled from Bootstrap
- [BUGFIX] - MediaPlayer controls will no longer autohide if the user's mouse is hovering over them
- [BUGFIX] - MediaPlayer will resize itself properly. It will scale the video to fit within the given `container` while preserving the aspect ratio. By default, it will not upscale the video past the dimensions of MediaFile, unless the MediaPlayer is in `fullscreen` mode. See the new `upscale` property on the MediaPlayer instance for more information.
- [BUGFIX] - Fix bug that prevented WebGL contexts in the 360 viewer to not be destroyed properly
- [BUGFIX] - ImageViewer now centers the image when switching to "fill" mode for the first time
- [BUGFIX] - DocumentViewer instances can now be destroyed and reinitialized using the same instance without error
- [BUGFIX] - "Loop" button is now given an active class to make the current setting more distinguishable
- [BUGFIX] - All CSS rules for grauman have been namespaced to `grauman-` classes to prevent CSS class name collisions
- [MAINTENANCE] - Upgrade Three.js to 0.85.0

## [0.2.1]
- Botched release. Ignore this tag/version everywhere you see it and don't trust it.

## [0.2.0]
- [BREAKING] - The library has been renamed `Grauman` due to the addition of the image and PDF viewers:
  - The default export of the library is now `Grauman`, which is a namespace and a helper class for instantiating and managing the different viewers
  - The `MediaPlayer` component that was the old default export is now located at `Grauman.MediaPlayer`
  - `MediaPlayer.MediaFile` is now located at `Grauman.MediaFile`
  - `MediaPlayer.STEREOSCOPIC_LAYOUTS` is now located at `Grauman.STEREOSCOPIC_LAYOUTS`
- [ENHANCEMENT] - Added ImageViewer component at `Grauman.ImageViewer` for displaying JPEG, GIF, PNG, and BMP files
- [ENHANCEMENT] - Added DocumentViewer component at `Grauman.DocumentViewer` for displaying PDF files
- [BUGFIX] - HLS and Video players no longer allow right-clicking on the video display
- [BUGFIX] - Fix issues with MediaPlayer volume and timeline scrubber click-dragging when the page was scrolled.
- [BUGFIX] - MediaPlayer `destroy()` method now actually destroys the MediaPlayer. Imagine that.
- [BUGFIX] - Fix regression in 0.1.0 that made the MediaPlayer enter an unplayable state if autoplay was disabled
- [BUGFIX] - Fix MediaPlayer Scrubber's load progress bar becoming inaccurate after seeking
- [BUGFIX] - MediaPlayer Scrubber's load progress bar now shows the actual MediaElement's `buffered` TimeRanges
- [BUGFIX] - MediaPlayer HLS viewer will now only allow seeking to a time that has loaded if the playlist is live
- [BUGFIX] - Fix bug in MediaPlayer `fullscreen` property that caused it to act like a toggle, rather than a setter (if the `mediaPlayer.fullscreen` property was false, executing `mediaPlayer.fullscreen = false;` would cause the media player to enter fullscreen).
- [BUGFIX] - Setting the `file` property via the `MediaPlayer` constructor no longer throws an error

## [0.1.0]
- [BREAKING] - MediaPlayer `width` and `height` properties have changed. The old functionality of these properties can be found on the new properties `containerWidth` and `containerHeight`, respectively. `width` and `height` may continue to behave as they did before, depending on your setup, but if they do, don't expect them to continue to.
- [BREAKING] - MediaFile `duration` property is now required
- [BREAKING] [ENHANCEMENT] - Add Webpack Code Splitting. Setting `MediaPlayer.publicPath` correctly is now required
- [ENHANCEMENT] - Added HLS playback support
- [ENHANCEMENT] - Made output minified
- [BUGFIX] - 360 mouse controls now work in Firefox
- [BUGFIX] - Click-dragging will no longer cause a transparent pixel image to be repeatidly created if caching is disabled
- [BUGFIX] - Buffering indicator will no longer be visible after a MediaFile's initial load if `autoplay` is `false` and the stream `canplaythrough`
- [BUGFIX] - MediaPlayer instances no longer accidentally overwrite each other's localstorage depending on who set the baseKey last
- [BUGFIX] - 360 Videos will now autoplay if it's enabled
- [BUGFIX] - MediaPlayer `fullscreen` property will now get the correct value instead of always getting `false`
- [BUGFIX] - Fullscreen button now updates if you enter or exit fullscreen via a keyboard shortcut
- [BUGFIX] - Fixed bugs with the Volume slider behaving erratically on click/drag or not behaving at all
- [BUGFIX] - Fixed bugs with the Timeline Scrubber behaving erratically on click/drag or not behaving at all

## [0.0.2]
- Initial release
